---
import MobileMenu from './MobileMenu.astro';
import SearchModal from './SearchModal.astro';
import { SITE_TITLE, NAV_LINKS } from '../utils/constants';

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 bg-[var(--bg-primary)]/80 backdrop-blur-md border-b border-[var(--border-color)]">
  <div class="max-w-wide mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a href="/" class="nav-logo">
        {SITE_TITLE}
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        {NAV_LINKS.map(link => {
          const isActive = currentPath === link.href || currentPath.startsWith(`${link.href}/`);
          return (
            <a
              href={link.href}
              class={`nav-link ${isActive ? 'active' : ''}`}
            >
              {link.label}
            </a>
          );
        })}
      </nav>

      <!-- Right Side -->
      <div class="flex items-center space-x-2">
        <SearchModal />
        <MobileMenu currentPath={currentPath} />
      </div>
    </div>
  </div>
</header>

<style>
  .nav-logo {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-weight: 700;
    font-size: 22px;
    color: #ffffff;
    text-decoration: none;
    transition: opacity 0.3s ease;
  }

  .nav-logo:hover {
    opacity: 0.8;
  }

  .nav-link {
    font-size: 14px;
    color: #9CA3AF;
    text-decoration: none;
    transition: color 0.3s ease;
    padding: 0;
  }

  .nav-link:hover {
    color: #ffffff;
  }

  .nav-link.active {
    color: #ffffff;
  }
</style>

---
import ThemeToggle from './ThemeToggle.astro';
import MobileMenu from './MobileMenu.astro';
import { SITE_TITLE, NAV_LINKS } from '../utils/constants';

const currentPath = Astro.url.pathname;
---

<header class="sticky top-0 z-50 bg-[var(--bg-primary)]/80 backdrop-blur-md border-b border-[var(--border-color)]">
  <div class="max-w-wide mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo -->
      <a href="/" class="text-xl font-semibold font-serif tracking-tight hover:opacity-80 transition-opacity">
        {SITE_TITLE}
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-1">
        {NAV_LINKS.map(link => {
          const isActive = currentPath === link.href || currentPath.startsWith(`${link.href}/`);
          return (
            <a
              href={link.href}
              class={`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${
                isActive
                  ? 'text-[var(--text-primary)] bg-[var(--bg-secondary)]'
                  : 'text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-secondary)]'
              }`}
            >
              {link.label}
            </a>
          );
        })}
      </nav>

      <!-- Right Side -->
      <div class="flex items-center space-x-2">
        <ThemeToggle />
        <MobileMenu currentPath={currentPath} />
      </div>
    </div>
  </div>
</header>

---

---

<section class="pt-8 pb-16 md:pb-[64px]">
  <div class="container-narrow text-center">
    <!-- Avatar with purple glow effect -->
    <div class="hero-avatar mb-10 opacity-0-init animate-scale-in delay-200">
      <img
        src="/assets/images/avatar.jpg"
        alt="RollingTheRock"
        class="avatar-img"
        loading="eager"
        decoding="async"
      />
    </div>

    <!-- Tagline -->
    <div class="mb-10 opacity-0-init animate-fade-in-down delay-400">
      <h1 class="hero-tagline text-2xl md:text-3xl lg:text-4xl leading-relaxed">
        <span class="tagline-line1 block" style="color: #ffffff;">Code Is the Answer.</span>
        <span class="tagline-line2 block" style="color: #A855F7;">But I'm More Interested in the Question.</span>
      </h1>
    </div>

    <!-- Subscribe Button with Gradient Border -->
    <div class="opacity-0-init animate-fade-in-down delay-600">
      <button
        id="hero-subscribe-btn"
        type="button"
        class="relative inline-flex items-center justify-center px-8 py-3 text-base font-medium text-[var(--text-primary)] transition-all duration-300 rounded-full group"
        style="
          background: linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(6, 182, 212, 0.1));
        "
      >
        <!-- Gradient border -->
        <span
          class="absolute inset-0 rounded-full p-[2px]"
          style="background: linear-gradient(135deg, #A855F7, #06B6D4);"
        >
          <span class="absolute inset-[2px] rounded-full bg-[var(--bg-primary)]"></span>
        </span>
        <span class="relative z-10">Stay Curious →</span>
      </button>
    </div>

    <!-- Expandable Subscribe Form -->
    <div
      id="hero-subscribe-form"
      class="max-w-md mx-auto mt-6 overflow-hidden transition-all duration-500 ease-out opacity-0 max-h-0"
    >
      <form
        class="flex flex-col sm:flex-row gap-3"
        onsubmit="event.preventDefault(); handleHeroSubscribe(event);"
      >
        <input
          type="email"
          name="email"
          placeholder="your@email.com"
          required
          class="flex-1 px-4 py-3 bg-[var(--bg-secondary)] border border-[var(--border-color)] rounded-lg text-[var(--text-primary)] placeholder-[var(--text-muted)] focus:outline-none focus:border-[#A855F7] transition-colors"
        />
        <button
          type="submit"
          class="px-6 py-3 bg-gradient-to-r from-[#A855F7] to-[#06B6D4] text-[var(--bg-primary)] font-medium rounded-lg hover:opacity-90 transition-opacity whitespace-nowrap"
        >
          订阅
        </button>
      </form>
      <p class="mt-3 text-xs text-[#666666]">
        订阅即表示同意接收更新邮件，可随时取消订阅。
      </p>
    </div>
  </div>
</section>

<script is:inline>
  // Toggle subscribe form
  document.addEventListener('DOMContentLoaded', function() {
    const subscribeBtn = document.getElementById('hero-subscribe-btn');
    const subscribeForm = document.getElementById('hero-subscribe-form');

    if (subscribeBtn && subscribeForm) {
      subscribeBtn.addEventListener('click', function() {
        const isExpanded = subscribeForm.classList.contains('opacity-100');

        if (isExpanded) {
          subscribeForm.classList.remove('opacity-100', 'max-h-48');
          subscribeForm.classList.add('opacity-0', 'max-h-0');
        } else {
          subscribeForm.classList.remove('opacity-0', 'max-h-0');
          subscribeForm.classList.add('opacity-100', 'max-h-48');
          // Focus on email input after animation
          setTimeout(() => {
            const emailInput = subscribeForm.querySelector('input[type="email"]');
            if (emailInput) emailInput.focus();
          }, 300);
        }
      });
    }
  });

  // Handle subscribe form submission
  function handleHeroSubscribe(event) {
    const form = event.target;
    const email = form.email.value;

    // TODO: Implement actual subscription logic
    // For now, show a success message
    alert('感谢订阅！我们会将最新内容发送到 ' + email);
    form.reset();

    // Collapse form after submission
    const subscribeForm = document.getElementById('hero-subscribe-form');
    if (subscribeForm) {
      subscribeForm.classList.remove('opacity-100', 'max-h-48');
      subscribeForm.classList.add('opacity-0', 'max-h-0');
    }
  }
</script>

<style>
  .hero-avatar {
    position: relative;
    width: 200px;
    height: 200px;
    margin: 0 auto;
  }

  .avatar-img {
    width: 200px;
    height: 200px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px dashed #A855F7;
    display: block;
  }

  /* 紫色光晕效果 */
  .hero-avatar::after {
    content: '';
    position: absolute;
    width: 230px;
    height: 230px;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: radial-gradient(circle, rgba(168,85,247,0.15) 0%, transparent 60%);
    filter: blur(15px);
    z-index: -1;
    pointer-events: none;
  }
</style>

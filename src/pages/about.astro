---
import BaseLayout from '../layouts/BaseLayout.astro';
import { GITHUB_URL, TWITTER_URL, AUTHOR, SKILLS, TIMELINE } from '../utils/constants';
import { SITE_DESCRIPTION } from '../utils/constants';
---

<BaseLayout title={`关于 - ${AUTHOR.name}`} description={SITE_DESCRIPTION}>
  <div class="max-w-medium mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
    <!-- Header / Hero -->
    <section class="text-center mb-20">
      <!-- Avatar -->
      <div class="w-28 h-28 mx-auto mb-8 relative">
        <img
          src="/assets/images/avatar.jpg"
          alt={AUTHOR.name}
          class="w-full h-full rounded-full object-cover border-2 border-dashed border-[#A855F7]"
          loading="eager"
          decoding="async"
        />
      </div>

      <h1 class="text-4xl md:text-5xl font-serif font-bold mb-4">
        {AUTHOR.name}
      </h1>

      <p class="text-xl text-[var(--text-secondary)] max-w-2xl mx-auto leading-relaxed mb-3">
        {AUTHOR.bio}
      </p>
      <p class="text-sm text-[var(--text-muted)] italic max-w-2xl mx-auto mb-6">
        "One must imagine Sisyphus happy." — Albert Camus
      </p>

      <!-- Social Links -->
      <div class="flex justify-center gap-3">
        <a
          href={GITHUB_URL}
          target="_blank"
          rel="noopener noreferrer"
          class="social-btn inline-flex items-center gap-2 px-4 py-2 border border-[var(--border-color)] rounded-full text-sm transition-all duration-300"
          aria-label="GitHub"
        >
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
          </svg>
          GitHub
        </a>

        <a
          href={TWITTER_URL}
          target="_blank"
          rel="noopener noreferrer"
          class="social-btn inline-flex items-center gap-2 px-4 py-2 border border-[var(--border-color)] rounded-full text-sm transition-all duration-300"
          aria-label="Twitter"
        >
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
          </svg>
          Twitter
        </a>

        <a
          href={`mailto:${AUTHOR.email}`}
          class="social-btn inline-flex items-center gap-2 px-4 py-2 border border-[var(--border-color)] rounded-full text-sm transition-all duration-300"
          aria-label="Email"
        >
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="4" width="20" height="16" rx="2"></rect>
            <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
          </svg>
          Email
        </a>
      </div>
    </section>

    <!-- About Content -->
    <section class="mb-20">
      <h2 class="text-2xl font-serif font-semibold mb-6 text-center">关于我</h2>
      <div class="prose prose-lg max-w-none text-[var(--text-secondary)] leading-relaxed space-y-4">
        <p>
          你好，我是 <strong class="text-[var(--text-primary)]">{AUTHOR.name}</strong>。
          我目前的状态大概可以概括为：同时在五个方向上推石头，还觉得挺开心的。
        </p>
        <p>
          主线是 Agent 工作流和高质量数据集构建。前者是想搞明白怎么让 AI 别光会聊天，后者是想搞明白怎么让 AI 吃上细粮。两件事听起来很宏大，但大部分时间我在调 Prompt 和清洗脏数据。
        </p>
        <p>
          区块链和算法竞赛是我一直在做的事。一个教会了我什么叫"信任"，一个教会了我什么叫"超时"。维特根斯坦是我读了很久还在读的人，目前最大的收获是学会了在不确定的时候闭嘴。
        </p>
        <p>
          然后我花了不成比例的时间搭了这个网站。因为我觉得一个人的审美应该被看见，哪怕看的人只有自己。
        </p>
        <p>
          这里是我的自留地。技术、想法、偶尔的废话，都在这里。欢迎订阅
          <a href="/rss.xml" class="text-[var(--text-primary)] hover:text-[#A855F7] hover:underline transition-colors">RSS</a>，或者在社交媒体上找到我。
        </p>
      </div>
    </section>

    <!-- Skills -->
    <section class="mb-20">
      <h2 class="text-2xl font-serif font-semibold mb-8 text-center">技术栈</h2>

      <div class="space-y-6">
        <!-- Languages -->
        <div>
          <h3 class="text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider mb-3">编程语言</h3>
          <div class="flex flex-wrap gap-2">
            {SKILLS.languages.map(skill => (
              <span class="px-4 py-2 bg-[var(--bg-secondary)] rounded-lg text-sm font-medium">
                {skill}
              </span>
            ))}
          </div>
        </div>

        <!-- Frontend -->
        <div>
          <h3 class="text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider mb-3">前端开发</h3>
          <div class="flex flex-wrap gap-2">
            {SKILLS.frontend.map(skill => (
              <span class="px-4 py-2 bg-[var(--bg-secondary)] rounded-lg text-sm font-medium">
                {skill}
              </span>
            ))}
          </div>
        </div>

        <!-- Backend -->
        <div>
          <h3 class="text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider mb-3">后端 & 数据库</h3>
          <div class="flex flex-wrap gap-2">
            {SKILLS.backend.map(skill => (
              <span class="px-4 py-2 bg-[var(--bg-secondary)] rounded-lg text-sm font-medium">
                {skill}
              </span>
            ))}
          </div>
        </div>

        <!-- Blockchain -->
        <div>
          <h3 class="text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider mb-3">区块链技术</h3>
          <div class="flex flex-wrap gap-2">
            {SKILLS.blockchain.map(skill => (
              <span class="px-4 py-2 bg-[var(--bg-secondary)] rounded-lg text-sm font-medium">
                {skill}
              </span>
            ))}
          </div>
        </div>

        <!-- AI -->
        <div>
          <h3 class="text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider mb-3">AI & 数据工程</h3>
          <div class="flex flex-wrap gap-2">
            {SKILLS.ai.map(skill => (
              <span class="px-4 py-2 bg-[var(--bg-secondary)] rounded-lg text-sm font-medium">
                {skill}
              </span>
            ))}
          </div>
        </div>

        <!-- Agent & Workflow -->
        <div>
          <h3 class="text-sm font-medium text-[var(--text-muted)] uppercase tracking-wider mb-3">Agent & 工作流</h3>
          <div class="flex flex-wrap gap-2">
            {SKILLS.agent.map(skill => (
              <span class="px-4 py-2 bg-[var(--bg-secondary)] rounded-lg text-sm font-medium">
                {skill}
              </span>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- Timeline -->
    <section class="mb-20">
      <h2 class="text-2xl font-serif font-semibold mb-8 text-center">经历</h2>

      <div class="relative">
        <!-- Timeline line -->
        <div class="absolute left-0 md:left-1/2 top-0 bottom-0 w-px bg-[var(--border-color)] md:-translate-x-1/2"></div>

        <div class="space-y-12">
          {TIMELINE.map((item, index) => (
            <div class="relative pl-8 md:pl-0">
              <!-- Dot -->
              <div class="absolute left-0 md:left-1/2 top-1 w-3 h-3 rounded-full bg-[#A855F7] border-2 border-[var(--bg-primary)] md:-translate-x-1/2"></div>

              <!-- Content -->
              <div class={`md:w-1/2 ${index % 2 === 0 ? 'md:pr-12 md:text-right' : 'md:ml-auto md:pl-12'}`}>
                <span class="text-sm font-mono text-[var(--text-muted)]">{item.year}</span>
                <h3 class="text-lg font-semibold mt-1 mb-2">{item.title}</h3>
                <p class="text-[var(--text-secondary)] text-sm leading-relaxed">{item.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Contact CTA -->
    <section class="text-center py-12 border-t border-[var(--border-color)]">
      <h2 class="text-2xl font-serif font-semibold mb-4">联系我</h2>
      <p class="text-[var(--text-secondary)] mb-8 max-w-lg mx-auto">
        如果你想聊技术、聊想法，或者只是想告诉我网站哪里有 bug，都欢迎通过邮件联系我。
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href={`mailto:${AUTHOR.email}`}
          class="contact-btn inline-flex items-center justify-center gap-2 px-8 py-4 border border-[var(--border-color)] rounded-lg font-medium transition-all duration-300"
        >
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="2" y="4" width="20" height="16" rx="2"></rect>
            <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
          </svg>
          发送邮件
        </a>

        <a
          href="/rss.xml"
          class="contact-btn inline-flex items-center justify-center gap-2 px-8 py-4 border border-[var(--border-color)] rounded-lg font-medium transition-all duration-300"
        >
          <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 11a9 9 0 0 1 9 9"></path>
            <path d="M4 4a16 16 0 0 1 16 16"></path>
            <circle cx="5" cy="19" r="1"></circle>
          </svg>
          订阅 RSS
        </a>
      </div>
    </section>
  </div>
</BaseLayout>

<style>
  /* Social buttons hover */
  .social-btn:hover {
    border-color: #A855F7;
    color: #A855F7;
    background: rgba(168, 85, 247, 0.1);
  }

  /* Contact buttons hover */
  .contact-btn:hover {
    border-color: #A855F7;
    color: #A855F7;
    background: rgba(168, 85, 247, 0.1);
  }
</style>

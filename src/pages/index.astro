---
import BaseLayout from '../layouts/BaseLayout.astro';
import Logo from '../components/Logo.astro';
import HeroSection from '../components/HeroSection.astro';
import CategoryCards from '../components/CategoryCards.astro';
import Subscribe from '../components/Subscribe.astro';
---

<BaseLayout noHeader={true} noFooter={false}>
  <div class="min-h-screen flex flex-col">
    {/* Header with Logo */}
    <header class="w-full py-6 px-4 sm:px-6 lg:px-8 opacity-0-init animate-fade-in-down">
      <div class="max-w-6xl mx-auto flex items-center justify-between">
        <Logo />
        {/* Mobile menu button */}
        <button
          type="button"
          class="md:hidden p-2 rounded-lg hover:bg-[var(--bg-secondary)] transition-colors"
          aria-label="打开菜单"
          onclick="document.dispatchEvent(new CustomEvent('toggle-mobile-menu'))"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
          </svg>
        </button>
        {/* Desktop navigation */}
        <nav class="hidden md:flex items-center gap-8">
          <a href="/blog" class="text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors">博客</a>
          <a href="/projects" class="text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors">项目</a>
          <a href="/videos" class="text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors">视频</a>
          <a href="/about" class="text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors">关于</a>
        </nav>
      </div>
    </header>

    {/* Main Content */}
    <main class="flex-1 page-transition">
      {/* Hero Section */}
      <HeroSection />

      {/* Category Cards */}
      <CategoryCards />

      {/* Subscribe Section */}
      <section class="py-16 md:py-20 opacity-0-init animate-slide-up delay-800">
        <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
          <Subscribe showPrivacy={true} />
        </div>
      </section>
    </main>
  </div>
</BaseLayout>

<script>
  // Trigger animations when page loads
  document.addEventListener('DOMContentLoaded', () => {
    // Elements are already set up with animation classes in the HTML
    // The opacity-0-init ensures they start hidden, then the animation plays
  });
</script>
